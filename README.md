# Описание выполненного проекта

В рамках данного проекта была разработана библиотека decimal.h на языке программирования C. Эта библиотека добавляет возможность работы с типом данных "decimal", который не предусмотрен стандартом языка. Тем не менее, этот тип критически важен для финансовых расчетов, где ошибки, характерные для типов с плавающей точкой, недопустимы. Проект включал работу с задачами обработки финансовой информации, погружение в вопросы внутреннего представления различных типов данных и закрепление знаний структурированного программирования.

### Библиотека decimal.h

Библиотека decimal.h предоставляет набор функций для работы с типом данных "decimal", который представляет десятичные числа в диапазоне от положительного 79,228,162,514,264,337,593,543,950,335 до отрицательного 79,228,162,514,264,337,593,543,950,335. Этот тип данных подходит для финансовых расчетов, требующих большого количества значащих целых и дробных цифр без ошибок округления.

### Арифметические операторы

- `int add(decimal value_1, decimal value_2, decimal *result)`: сложение двух чисел типа decimal.
- `int sub(decimal value_1, decimal value_2, decimal *result)`: вычитание двух чисел типа decimal.
- `int mul(decimal value_1, decimal value_2, decimal *result)`: умножение двух чисел типа decimal.
- `int div(decimal value_1, decimal value_2, decimal *result)`: деление двух чисел типа decimal.

Функции возвращают код ошибки:
- 0 - OK
- 1 - число слишком большое или равно бесконечности
- 2 - число слишком маленькое или равно отрицательной бесконечности
- 3 - деление на 0

### Операторы сравнения

- `int is_less(decimal, decimal)`: меньше.
- `int is_less_or_equal(decimal, decimal)`: меньше или равно.
- `int is_greater(decimal, decimal)`: больше.
- `int is_greater_or_equal(decimal, decimal)`: больше или равно.
- `int is_equal(decimal, decimal)`: равно.
- `int is_not_equal(decimal, decimal)`: не равно.

Возвращаемое значение:
- 0 - FALSE
- 1 - TRUE

### Конвертеры и парсеры

- `int from_int_to_decimal(int src, decimal *dst)`: преобразование из int в decimal.
- `int from_float_to_decimal(float src, decimal *dst)`: преобразование из float в decimal.
- `int from_decimal_to_int(decimal src, int *dst)`: преобразование из decimal в int.
- `int from_decimal_to_float(decimal src, float *dst)`: преобразование из decimal в float.

Возвращаемое значение - код ошибки:
- 0 - OK
- 1 - ошибка преобразования

### Дополнительные функции

- `int floor(decimal value, decimal *result)`: округление числа типа decimal к ближайшему целому в сторону отрицательной бесконечности.
- `int round(decimal value, decimal *result)`: округление числа типа decimal к ближайшему целому.
- `int truncate(decimal value, decimal *result)`: возвращает целую часть числа типа decimal, отбрасывая дробную часть.
- `int negate(decimal value, decimal *result)`: возвращает результат умножения числа типа decimal на -1.

Возвращаемое значение - код ошибки:
- 0 - OK
- 1 - ошибка вычисления

## Требования и реализация

- Библиотека разработана на языке C стандарта C11 с использованием компилятора gcc.
- Код библиотеки находится в папке src на ветке develop.
- Не использовались устаревшие и унаследованные конструкции языка и функции библиотек.
- При написании кода придерживались стиля Google.
- Библиотека реализована в виде статической библиотеки (с заголовочным файлом decimal.h).
- Библиотека разработана в соответствии с принципами структурированного программирования, избегали дублирования кода.
- Подготовлено полное покрытие функций библиотеки юнит-тестами с использованием библиотеки Check.
- Код тестов и исполняемый файл находятся в папке src или её подпапках.
- Юнит-тесты покрывают не менее 80% каждой функции (проверяется с помощью gcov).
- Предоставлен Makefile для сборки библиотеки и тестов (с целями all, clean, test, decimal.a, gcov_report).
- Цель gcov_report генерирует отчет gcov в виде HTML-страницы. Юнит-тесты должны запускаться с флагами gcov для этого.
- Использован префикс  перед каждой функцией.
- Запрещено использовать тип __int128.
- Хвостовые нули могут быть как сохранены, так и удалены (кроме функции truncate).
- Определенный тип должен поддерживать числа от -79,228,162,514,264,337,593,543,950,335 до +79,228,162,514,264,337,593,543,950,335.

## Заключение

В результате выполнения проекта была разработана функциональная библиотека decimal.h для работы с типом данных "decimal". Проект способствовал углублению знаний в области структурированного программирования и работы с библиотеками C. Кроме того, было приобретено понимание внутреннего представления различных типов данных.

В ходе работы над проектом были освоены побитовые операции, что позволило эффективно манипулировать битами для реализации арифметических и логических операций над числами типа decimal. Также были улучшены навыки работы с памятью и оптимизации кода, что является важным аспектом при разработке высокопроизводительных библиотек.